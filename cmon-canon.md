# Конструкции лечащие или калечащие

*...или о том как синтаксис и семантика подписали мировую.*

В мейнстриме принято трястись над именованием. Люди,
- которых ~10 лет в школе и еще лет 5 в институте натаскивали на решения вроде "пусть даны `x`, `x'`",
- которые от корки до корки прошли по меньшей мере матсат, матан, теорвер и ни разу не встретили там ни одной переменной длинее одной буквы

...вдруг становятся навязчиво обеспокоены именами переменных и проводят остаток жизни в `бесконечныхПоискахСамогоЛучшегоНазванияЧтобДажеСлучайныйПрохожийСмогСразуПонять` то, что, в общем-то, нужно было написать комметарием рядом и для чего комментарии придуманы.

Так вот, болезненная фиксация на именах отвлекает от гораздо более насущной проблемы: от сущностей, на которые эти имена указывают. Как тут не вспомнить буддийского монаха, изрекшего: "палец, указующий на Луну, не есть Луна".

# Синтаксис + Семантика = Любовь

*Семантически* одно и то же обычно можно представить многими способами *синтаксически*. Например `0` и `255 - (127 + 128)`: разные массивы символов означают одно и то же.

Давайте думать об этом иначе: синтаксис задает множество грамматически корректных *конструкций*, семантику которых определяет их вычисление. В таком случае есть два принципиальных уровня сопоставления смыслов между собой:
- уровень синтаксиса: здесь сопоставляются не сами луны, а направления указывающих на них пальцев;
- уровень семантики: где никаких пальцев уже нет, только луны и ничего кроме лун.

А что если запретить все это синтаксическое разнообразие представлений? Зачем? Да чтоб уровень синтаксиса стал эквивалентен уровню семантики: если объекты равны по (синтаксической) конструкции, то автоматически равны и результаты их вычисления (дающие семантику -- то есть, смысл) -- и наоборот. Тогда о лунах можно будет судить по "пальцам, на них указующим"" и буддийский монах окажется кругом не прав, а наши программы значительно упростятся потому что отпадет необходимость всюду прокидывать *смысловой контекст*: например, чтоб понять, что два SQL-скрипта делают одно и то же будет достаточно сравнить их посимвольно, без малейшей необходимости их запускать или писать на них тесты, проверяющие, что на одних и тех же входящих данных возвращается тот же самый результат.

**Если синтаксис и семантика эквивалентны друг другу, то последняя просто не нужна: оперировать массивами символов гораздо проще -- и человеку, и компилятору!** По крайней мере, не нужна в таких вредных для здоровья количествах...

Но запретить как? Есть два пути:

1. Беспощадный фашисткий запрет всякого разнообразия на уровне публичных интерфейсов: "кто не с нами -- тот под нами" и все в таком духе. Это не работает примерно никогда.
2. Гораздо более благоразумный подход: *имплиситно* сводить все разнообразие синтаксических конструкций одного и того же к некоторой субъективно выбранной *единственной канонической форме* и далее оперировать ей и только ей (при необходимости осуществляя обратное преобразование, если надо вернуть данные именно в их оригинаьном виде).

Скажем:

- Email адреса не чувствительны к регистру по спецификаци? Хранить их только в lower-case!
- Сложные многоуровневые фильтры? Хранить из только к КНФ, в лексиграфическом порядке!
- Много "больших" файлов? Хранить их SHA512!

...и так далее, и тому подобное.

Все ради того, чтоб подружить два мира.